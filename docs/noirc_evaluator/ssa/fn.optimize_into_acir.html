<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Optimize the given program by converting it into SSA form and performing optimizations there. When finished, convert the final SSA into an ACIR program and return it. An ACIR program is made up of both ACIR functions and Brillig functions for unconstrained execution."><title>optimize_into_acir in noirc_evaluator::ssa - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="noirc_evaluator" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.0 (4d91de4e4 2025-02-17)" data-channel="1.85.0" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" ><script src="../../static.files/storage-59e33391.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../noirc_evaluator/index.html">noirc_<wbr>evaluator</a><span class="version">1.0.0-beta.7</span></h2></div><div class="sidebar-elems"><div id="rustdoc-modnav"><h2><a href="index.html">In noirc_<wbr>evaluator::<wbr>ssa</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../index.html">noirc_evaluator</a>::<wbr><a href="index.html">ssa</a></span><h1>Function <span class="fn">optimize_into_acir</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/noirc_evaluator/ssa.rs.html#345-362">Source</a> </span></div><pre class="rust item-decl"><code>pub fn optimize_into_acir&lt;S&gt;(
    program: <a class="struct" href="../../noirc_frontend/monomorphization/ast/struct.Program.html" title="struct noirc_frontend::monomorphization::ast::Program">Program</a>,
    options: &amp;<a class="struct" href="struct.SsaEvaluatorOptions.html" title="struct noirc_evaluator::ssa::SsaEvaluatorOptions">SsaEvaluatorOptions</a>,
    primary: &amp;[<a class="struct" href="struct.SsaPass.html" title="struct noirc_evaluator::ssa::SsaPass">SsaPass</a>&lt;'_&gt;],
    secondary: S,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.85.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.ArtifactsAndWarnings.html" title="struct noirc_evaluator::ssa::ArtifactsAndWarnings">ArtifactsAndWarnings</a>, <a class="enum" href="../errors/enum.RuntimeError.html" title="enum noirc_evaluator::errors::RuntimeError">RuntimeError</a>&gt;<div class="where">where
    S: for&lt;'b&gt; <a class="trait" href="https://doc.rust-lang.org/1.85.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(&amp;'b <a class="struct" href="../brillig/struct.Brillig.html" title="struct noirc_evaluator::brillig::Brillig">Brillig</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.85.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="struct.SsaPass.html" title="struct noirc_evaluator::ssa::SsaPass">SsaPass</a>&lt;'b&gt;&gt;,</div></code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Optimize the given program by converting it into SSA
form and performing optimizations there. When finished,
convert the final SSA into an ACIR program and return it.
An ACIR program is made up of both ACIR functions
and Brillig functions for unconstrained execution.</p>
<p>The <code>primary</code> SSA passes are applied on the initial SSA.
Then we compile the Brillig functions, and use the output
to run a <code>secondary</code> pass, which can use the Brillig
artifacts to do constant folding.</p>
<p>See the <a href="fn.primary_passes.html" title="fn noirc_evaluator::ssa::primary_passes">primary_passes</a> and <a href="fn.secondary_passes.html" title="fn noirc_evaluator::ssa::secondary_passes">secondary_passes</a> for
the default implementations.</p>
</div></details></section></div></main></body></html>