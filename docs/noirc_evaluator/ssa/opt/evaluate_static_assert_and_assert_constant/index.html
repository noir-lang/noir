<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A simple SSA pass to go through each instruction and evaluate:"><title>noirc_evaluator::ssa::opt::evaluate_static_assert_and_assert_constant - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../../../../" data-static-root-path="../../../../static.files/" data-current-crate="noirc_evaluator" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.0 (4d91de4e4 2025-02-17)" data-channel="1.85.0" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" ><script src="../../../../static.files/storage-59e33391.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../../noirc_evaluator/index.html">noirc_<wbr>evaluator</a><span class="version">1.0.0-beta.12</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module evaluate_<wbr>static_<wbr>assert_<wbr>and_<wbr>assert_<wbr>constant</a></h2><h3><a href="#functions">Module Items</a></h3><ul class="block"><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In noirc_<wbr>evaluator::<wbr>ssa::<wbr>opt</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../../../index.html">noirc_evaluator</a>::<wbr><a href="../../index.html">ssa</a>::<wbr><a href="../index.html">opt</a></span><h1>Module <span>evaluate_static_assert_and_assert_constant</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../../src/noirc_evaluator/ssa/opt/evaluate_static_assert_and_assert_constant.rs.html#1-431">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A simple SSA pass to go through each instruction and evaluate:</p>
<ul>
<li>each call to <code>assert_constant</code>, issuing an error if any arguments to the function
are not constants</li>
<li>each call to <code>static_assert</code>, issuing an error if the assertion does not hold,
the value to test is not a constant, or the message is dynamic.</li>
</ul>
<p>Note that this pass must be placed directly before <a href="../unrolling/index.html" title="mod noirc_evaluator::ssa::opt::unrolling"><code>loop unrolling</code></a> to be
useful. Any optimization passes between this and loop unrolling will cause
the constants that this pass sees to be potentially different than the constants
seen by loop unrolling. Furthermore, this pass cannot be a part of loop unrolling
since we must go through every instruction to find all references to <code>assert_constant</code>
while loop unrolling only touches blocks with loops in them.</p>
</div></details><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.append_foreign_call_param.html" title="fn noirc_evaluator::ssa::opt::evaluate_static_assert_and_assert_constant::append_foreign_call_param">append_<wbr>foreign_<wbr>call_<wbr>param</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="fn" href="fn.check_instruction.html" title="fn noirc_evaluator::ssa::opt::evaluate_static_assert_and_assert_constant::check_instruction">check_<wbr>instruction</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">During the loop unrolling pass we also evaluate calls to <code>assert_constant</code>.
This is done in this pass because loop unrolling is the only pass that will error
if a value (the loop bounds) are not known constants.</div></li><li><div class="item-name"><a class="fn" href="fn.evaluate_assert_constant.html" title="fn noirc_evaluator::ssa::opt::evaluate_static_assert_and_assert_constant::evaluate_assert_constant">evaluate_<wbr>assert_<wbr>constant</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Evaluate a call to <code>assert_constant</code>, returning an error if any of the elements are not
constants. If all of the elements are constants, Ok(false) is returned. This signifies a
success but also that the instruction need not be reinserted into the block being unrolled
since it has already been evaluated.</div></li><li><div class="item-name"><a class="fn" href="fn.evaluate_static_assert.html" title="fn noirc_evaluator::ssa::opt::evaluate_static_assert_and_assert_constant::evaluate_static_assert">evaluate_<wbr>static_<wbr>assert</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Evaluate a call to <code>static_assert</code>, returning an error if the value is false
or not constant (see assert_constant).</div></li><li><div class="item-name"><a class="fn" href="fn.get_blocks_within_empty_loop.html" title="fn noirc_evaluator::ssa::opt::evaluate_static_assert_and_assert_constant::get_blocks_within_empty_loop">get_<wbr>blocks_<wbr>within_<wbr>empty_<wbr>loop</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Returns all of a functionâ€™s block that are part of empty loops.</div></li></ul></section></div></main></body></html>