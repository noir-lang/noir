<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The Noir formatter."><title>nargo_fmt - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="nargo_fmt" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.0 (4d91de4e4 2025-02-17)" data-channel="1.85.0" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" ><script src="../static.files/storage-59e33391.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../nargo_fmt/index.html">nargo_<wbr>fmt</a><span class="version">1.0.0-beta.8</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#modules">Crate Items</a></h3><ul class="block"><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>nargo_fmt</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/nargo_fmt/lib.rs.html#1-89">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The Noir formatter.</p>
<p>It works by using two techniques:</p>
<ol>
<li>Surfing a parsed module by using a lexer.</li>
<li>Trying to not exceed the maximum line width by formatting to intermediate chunk (see chunks.rs)</li>
</ol>
<p>What is lexer surfing?</p>
<p>Suppose we need to format this code:</p>
<p>fn foo ( ) { let x : Field = ( 2 , 3 ) ; }</p>
<p>We first parse the above code so we end up with a ParsedModule. Next we traverse this module
contents and process each item, statement, expression, type, etc., we find.</p>
<p>For example, the first thing we’ll find is a function. We know it has no visibility and no doc
comments so we can expect an <code>fn</code> keyword to be there. We write it. Next will come the identifier.
For that we “skip” any spaces and comments between <code>fn</code> and <code>foo</code>, writing only one space instead
of possibly multiple spaces, then write “foo”. If there were comments between <code>fn</code> and <code>foo</code>,
we write them (the formatter will never lose comments).</p>
<p>Next we know there are no generics, so we can expect a <code>(</code>, etc.</p>
<p>In this way we go token by token, inserting newlines when needed, removing extra spaces,
indenting things as we go deep inside structures, etc.</p>
<p>But that’s not all. The formatter will try to not exceed the configurable maximum width.
It will do that but, for simplicity, only for function parameters list, statements and expressions
(we assume an <code>impl Foo ...</code> line won’t exceed the maximum length, and if it does it’s not a big deal,
or we can always improve things later). For this, read the comments in chunks.rs.</p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="chunks/index.html" title="mod nargo_fmt::chunks">chunks</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">This module has all the logic to format a series of chunks (a piece of text) in a way
that we (almost always) never exceed the configurable maximum line width.</div></li><li><div class="item-name"><a class="mod" href="config/index.html" title="mod nargo_fmt::config">config</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="mod" href="errors/index.html" title="mod nargo_fmt::errors">errors</a></div></li><li><div class="item-name"><a class="mod" href="formatter/index.html" title="mod nargo_fmt::formatter">formatter</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Config.html" title="struct nargo_fmt::Config">Config</a></div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.ImportsGranularity.html" title="enum nargo_fmt::ImportsGranularity">Imports<wbr>Granularity</a></div><div class="desc docblock-short">How imports should be grouped into use statements.
Imports will be merged or split to the configured level of granularity.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.format.html" title="fn nargo_fmt::format">format</a></div></li></ul></section></div></main></body></html>