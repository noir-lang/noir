name: Setup Nix
description: Installs and setups Nix components

runs:
  using: composite
  steps:
    - uses: cachix/install-nix-action@v22
      with:
        nix_path: nixpkgs=channel:nixos-23.05
        github_access_token: ${{ secrets.GITHUB_TOKEN }}

    - uses: cachix/cachix-action@v12
      with:
        name: ${{ vars.NIX_CACHE_NAME }}
        authToken: "${{ secrets.CACHIXAUTHTOKEN }}"
